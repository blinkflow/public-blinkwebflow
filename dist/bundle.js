/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/loglevel/lib/loglevel.js":
/*!***********************************************!*\
  !*** ./node_modules/loglevel/lib/loglevel.js ***!
  \***********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    \"use strict\";\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (definition),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else // removed by dead control flow\n{}\n}(this, function () {\n    \"use strict\";\n\n    // Slightly dubious tricks to cut down minimized file size\n    var noop = function() {};\n    var undefinedType = \"undefined\";\n    var isIE = (typeof window !== undefinedType) && (typeof window.navigator !== undefinedType) && (\n        /Trident\\/|MSIE /.test(window.navigator.userAgent)\n    );\n\n    var logMethods = [\n        \"trace\",\n        \"debug\",\n        \"info\",\n        \"warn\",\n        \"error\"\n    ];\n\n    var _loggersByName = {};\n    var defaultLogger = null;\n\n    // Cross-browser bind equivalent that works at least back to IE6\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === 'function') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // Trace() doesn't print the message in IE, so for that case we need to wrap it\n    function traceForIE() {\n        if (console.log) {\n            if (console.log.apply) {\n                console.log.apply(console, arguments);\n            } else {\n                // In old IE, native console methods themselves don't have apply().\n                Function.prototype.apply.apply(console.log, [console, arguments]);\n            }\n        }\n        if (console.trace) console.trace();\n    }\n\n    // Build the best logging method possible for this env\n    // Wherever possible we want to bind, not wrap, to preserve stack traces\n    function realMethod(methodName) {\n        if (methodName === 'debug') {\n            methodName = 'log';\n        }\n\n        if (typeof console === undefinedType) {\n            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives\n        } else if (methodName === 'trace' && isIE) {\n            return traceForIE;\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, 'log');\n        } else {\n            return noop;\n        }\n    }\n\n    // These private functions always need `this` to be set properly\n\n    function replaceLoggingMethods() {\n        /*jshint validthis:true */\n        var level = this.getLevel();\n\n        // Replace the actual methods.\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, this.name);\n        }\n\n        // Define log.log as an alias for log.debug\n        this.log = this.debug;\n\n        // Return any important warnings.\n        if (typeof console === undefinedType && level < this.levels.SILENT) {\n            return \"No console available for logging\";\n        }\n    }\n\n    // In old IE versions, the console isn't present until you first open it.\n    // We build realMethod() replacements here that regenerate logging methods\n    function enableLoggingWhenConsoleArrives(methodName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    // By default, we use closely bound real methods wherever possible, and\n    // otherwise we wait for a console to appear, and then try again.\n    function defaultMethodFactory(methodName, _level, _loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    function Logger(name, factory) {\n      // Private instance variables.\n      var self = this;\n      /**\n       * The level inherited from a parent logger (or a global default). We\n       * cache this here rather than delegating to the parent so that it stays\n       * in sync with the actual logging methods that we have installed (the\n       * parent could change levels but we might not have rebuilt the loggers\n       * in this child yet).\n       * @type {number}\n       */\n      var inheritedLevel;\n      /**\n       * The default level for this logger, if any. If set, this overrides\n       * `inheritedLevel`.\n       * @type {number|null}\n       */\n      var defaultLevel;\n      /**\n       * A user-specific level for this logger. If set, this overrides\n       * `defaultLevel`.\n       * @type {number|null}\n       */\n      var userLevel;\n\n      var storageKey = \"loglevel\";\n      if (typeof name === \"string\") {\n        storageKey += \":\" + name;\n      } else if (typeof name === \"symbol\") {\n        storageKey = undefined;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          // Fallback to cookies if local storage gives us nothing\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var cookieName = encodeURIComponent(storageKey);\n                  var location = cookie.indexOf(cookieName + \"=\");\n                  if (location !== -1) {\n                      storedLevel = /^([^;]+)/.exec(\n                          cookie.slice(location + cookieName.length + 1)\n                      )[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      function clearPersistedLevel() {\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage.removeItem(storageKey);\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC\";\n          } catch (ignore) {}\n      }\n\n      function normalizeLevel(input) {\n          var level = input;\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\n              return level;\n          } else {\n              throw new TypeError(\"log.setLevel() called with invalid level: \" + input);\n          }\n      }\n\n      /*\n       *\n       * Public logger API - see https://github.com/pimterry/loglevel for details\n       *\n       */\n\n      self.name = name;\n\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\n          \"ERROR\": 4, \"SILENT\": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          if (userLevel != null) {\n            return userLevel;\n          } else if (defaultLevel != null) {\n            return defaultLevel;\n          } else {\n            return inheritedLevel;\n          }\n      };\n\n      self.setLevel = function (level, persist) {\n          userLevel = normalizeLevel(level);\n          if (persist !== false) {  // defaults to true\n              persistLevelIfPossible(userLevel);\n          }\n\n          // NOTE: in v2, this should call rebuild(), which updates children.\n          return replaceLoggingMethods.call(self);\n      };\n\n      self.setDefaultLevel = function (level) {\n          defaultLevel = normalizeLevel(level);\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.resetLevel = function () {\n          userLevel = null;\n          clearPersistedLevel();\n          replaceLoggingMethods.call(self);\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      self.rebuild = function () {\n          if (defaultLogger !== self) {\n              inheritedLevel = normalizeLevel(defaultLogger.getLevel());\n          }\n          replaceLoggingMethods.call(self);\n\n          if (defaultLogger === self) {\n              for (var childName in _loggersByName) {\n                _loggersByName[childName].rebuild();\n              }\n          }\n      };\n\n      // Initialize all the internal levels.\n      inheritedLevel = normalizeLevel(\n          defaultLogger ? defaultLogger.getLevel() : \"WARN\"\n      );\n      var initialLevel = getPersistedLevel();\n      if (initialLevel != null) {\n          userLevel = normalizeLevel(initialLevel);\n      }\n      replaceLoggingMethods.call(self);\n    }\n\n    /*\n     *\n     * Top-level API\n     *\n     */\n\n    defaultLogger = new Logger();\n\n    defaultLogger.getLogger = function getLogger(name) {\n        if ((typeof name !== \"symbol\" && typeof name !== \"string\") || name === \"\") {\n            throw new TypeError(\"You must supply a name when creating a logger.\");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n            logger = _loggersByName[name] = new Logger(\n                name,\n                defaultLogger.methodFactory\n            );\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    defaultLogger.getLoggers = function getLoggers() {\n        return _loggersByName;\n    };\n\n    // ES6 default export, for compatibility\n    defaultLogger['default'] = defaultLogger;\n\n    return defaultLogger;\n}));\n\n\n//# sourceURL=webpack://public-blinkwebflow/./node_modules/loglevel/lib/loglevel.js?");

/***/ }),

/***/ "./src/cart/bootstrap.ts":
/*!*******************************!*\
  !*** ./src/cart/bootstrap.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ bootstrapCart)\n/* harmony export */ });\n/* harmony import */ var _cart_cart_renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/cart/cart-renderer */ \"./src/cart/cart-renderer.ts\");\n\nfunction bootstrapCart(globalBlink) {\n    const cartElements = document.querySelectorAll('[data-bf-cart]');\n    cartElements.forEach((el) => {\n        const renderer = new _cart_cart_renderer__WEBPACK_IMPORTED_MODULE_0__[\"default\"](globalBlink.cart, el, globalBlink.store.moneyFormat ?? '${{amount}}');\n        renderer.render();\n        el._cart = globalBlink.cart;\n        el._cartRenderer = renderer;\n    });\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/cart/bootstrap.ts?");

/***/ }),

/***/ "./src/cart/cart-renderer.ts":
/*!***********************************!*\
  !*** ./src/cart/cart-renderer.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CartRenderer)\n/* harmony export */ });\n/* harmony import */ var _cart_renderers_checkout_button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/cart/renderers/checkout-button */ \"./src/cart/renderers/checkout-button.ts\");\n/* harmony import */ var _cart_renderers_cart_drawer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/cart/renderers/cart-drawer */ \"./src/cart/renderers/cart-drawer.ts\");\n/* harmony import */ var _cart_renderers_empty_cart__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/cart/renderers/empty-cart */ \"./src/cart/renderers/empty-cart.ts\");\n/* harmony import */ var _cart_renderers_clear_cart__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/cart/renderers/clear-cart */ \"./src/cart/renderers/clear-cart.ts\");\n/* harmony import */ var _cart_renderers_cart_total__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/cart/renderers/cart-total */ \"./src/cart/renderers/cart-total.ts\");\n/* harmony import */ var _cart_renderers_cart_count__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/cart/renderers/cart-count */ \"./src/cart/renderers/cart-count.ts\");\n/* harmony import */ var _cart_renderers_line_item__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/cart/renderers/line-item */ \"./src/cart/renderers/line-item.ts\");\n\n\n\n\n\n\n\nfunction selectScopedElements(container, selector) {\n    return Array.from(container.querySelectorAll(selector)).filter((el) => el.closest('[data-bf-cart]') === container);\n}\nclass CartRenderer {\n    cart;\n    container;\n    moneyFormat;\n    renderers = [];\n    constructor(cart, container, moneyFormat) {\n        this.cart = cart;\n        this.container = container;\n        this.moneyFormat = moneyFormat;\n        // Cart items count\n        selectScopedElements(container, '[data-bf-cart-items-count]').forEach((el) => {\n            this.renderers.push(new _cart_renderers_cart_count__WEBPACK_IMPORTED_MODULE_5__[\"default\"](cart, el));\n        });\n        // Line items container\n        selectScopedElements(container, '[data-bf-line-items]').forEach((el) => {\n            this.renderers.push(new _cart_renderers_line_item__WEBPACK_IMPORTED_MODULE_6__[\"default\"](cart, el, moneyFormat));\n        });\n        // Cart subtotal\n        selectScopedElements(container, '[data-bf-cart-subtotal]').forEach((el) => {\n            this.renderers.push(new _cart_renderers_cart_total__WEBPACK_IMPORTED_MODULE_4__[\"default\"](cart, el, 'subtotal'));\n        });\n        // Cart total\n        selectScopedElements(container, '[data-bf-cart-total]').forEach((el) => {\n            this.renderers.push(new _cart_renderers_cart_total__WEBPACK_IMPORTED_MODULE_4__[\"default\"](cart, el, 'total'));\n        });\n        // Empty cart message\n        selectScopedElements(container, '[data-bf-empty-cart-message]').forEach((el) => {\n            this.renderers.push(new _cart_renderers_empty_cart__WEBPACK_IMPORTED_MODULE_2__[\"default\"](cart, el));\n        });\n        // Checkout buttons\n        selectScopedElements(container, '[data-bf-checkout]').forEach((el) => {\n            this.renderers.push(new _cart_renderers_checkout_button__WEBPACK_IMPORTED_MODULE_0__[\"default\"](cart, el));\n        });\n        // Clear cart buttons\n        selectScopedElements(container, '[data-bf-clear-cart]').forEach((el) => {\n            this.renderers.push(new _cart_renderers_clear_cart__WEBPACK_IMPORTED_MODULE_3__[\"default\"](cart, el));\n        });\n        // Cart drawer controls\n        this.renderers.push(...Array.from(document.querySelectorAll('[data-bf-cart-drawer-open]')).map((el) => new _cart_renderers_cart_drawer__WEBPACK_IMPORTED_MODULE_1__[\"default\"](cart, el, 'open')));\n        this.renderers.push(...Array.from(document.querySelectorAll('[data-bf-cart-drawer-close]')).map((el) => new _cart_renderers_cart_drawer__WEBPACK_IMPORTED_MODULE_1__[\"default\"](cart, el, 'close')));\n    }\n    render() {\n        this.renderers.forEach((renderer) => renderer.render());\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/cart/cart-renderer.ts?");

/***/ }),

/***/ "./src/cart/renderer-base.ts":
/*!***********************************!*\
  !*** ./src/cart/renderer-base.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Renderer: () => (/* binding */ Renderer)\n/* harmony export */ });\nclass Renderer {\n    cart;\n    container;\n    constructor(cart, container) {\n        this.cart = cart;\n        this.container = container;\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/cart/renderer-base.ts?");

/***/ }),

/***/ "./src/cart/renderers/cart-count.ts":
/*!******************************************!*\
  !*** ./src/cart/renderers/cart-count.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CartCountRenderer)\n/* harmony export */ });\n/* harmony import */ var _cart_renderer_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/cart/renderer-base */ \"./src/cart/renderer-base.ts\");\n/* harmony import */ var _utils_events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/events */ \"./src/utils/events.ts\");\n\n\nclass CartCountRenderer extends _cart_renderer_base__WEBPACK_IMPORTED_MODULE_0__.Renderer {\n    constructor(cart, container) {\n        super(cart, container);\n        this.setupEventListeners();\n    }\n    setupEventListeners() {\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.subscribeEvent)('cart:refresh:completed', () => {\n            this.render();\n        });\n    }\n    render() {\n        if (this.cart.itemCount <= 0) {\n            this.container.style.display = 'none';\n            return;\n        }\n        this.container.style.display = '';\n        this.container.textContent = `(${this.cart.itemCount.toString()})`;\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/cart/renderers/cart-count.ts?");

/***/ }),

/***/ "./src/cart/renderers/cart-drawer.ts":
/*!*******************************************!*\
  !*** ./src/cart/renderers/cart-drawer.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CartDrawerRenderer)\n/* harmony export */ });\n/* harmony import */ var _cart_renderer_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/cart/renderer-base */ \"./src/cart/renderer-base.ts\");\n/* harmony import */ var _utils_events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/events */ \"./src/utils/events.ts\");\n/* harmony import */ var _utils_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/error */ \"./src/utils/error.ts\");\n\n\n\nclass CartDrawerRenderer extends _cart_renderer_base__WEBPACK_IMPORTED_MODULE_0__.Renderer {\n    type;\n    drawerElement = null;\n    activeClass = 'bf-open';\n    constructor(cart, container, type = 'open') {\n        super(cart, container);\n        this.type = type;\n        this.drawerElement = document.querySelector('[data-bf-cart-drawer]');\n        if (this.drawerElement) {\n            this.activeClass = this.drawerElement.dataset.bfCartDrawerActiveClass ?? 'bf-open';\n        }\n        this.setupEventListeners(type);\n    }\n    setupEventListeners(type) {\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.subscribeEvent)('cart:add:completed', (details) => {\n            if (type === 'open') {\n                this.open();\n            }\n        });\n    }\n    render() {\n        this.container.addEventListener('click', (e) => {\n            e.preventDefault();\n            if (this.type === 'open') {\n                this.open();\n            }\n            else {\n                this.close();\n            }\n        });\n    }\n    open() {\n        if (!this.drawerElement) {\n            _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error('Cart drawer element not found.');\n            return;\n        }\n        this.drawerElement.classList.add(this.activeClass);\n        this.drawerElement.setAttribute('aria-hidden', 'false');\n    }\n    close() {\n        if (!this.drawerElement) {\n            _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error('Cart drawer element not found.');\n            return;\n        }\n        this.drawerElement.classList.remove(this.activeClass);\n        this.drawerElement.setAttribute('aria-hidden', 'true');\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/cart/renderers/cart-drawer.ts?");

/***/ }),

/***/ "./src/cart/renderers/cart-total.ts":
/*!******************************************!*\
  !*** ./src/cart/renderers/cart-total.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CartTotalRenderer)\n/* harmony export */ });\n/* harmony import */ var _cart_renderer_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/cart/renderer-base */ \"./src/cart/renderer-base.ts\");\n/* harmony import */ var _utils_events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/events */ \"./src/utils/events.ts\");\n\n\nclass CartTotalRenderer extends _cart_renderer_base__WEBPACK_IMPORTED_MODULE_0__.Renderer {\n    type;\n    constructor(cart, container, type = 'total') {\n        super(cart, container);\n        this.type = type;\n        this.setupEventListeners();\n    }\n    setupEventListeners() {\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.subscribeEvent)('cart:refresh:completed', () => {\n            this.render();\n        });\n    }\n    render() {\n        switch (this.type) {\n            case 'subtotal':\n                this.container.textContent = this.cart.subtotalFormatted;\n                break;\n            case 'total':\n                this.container.textContent = this.cart.totalFormatted;\n                break;\n            default:\n                this.container.textContent = this.cart.totalFormatted;\n                break;\n        }\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/cart/renderers/cart-total.ts?");

/***/ }),

/***/ "./src/cart/renderers/checkout-button.ts":
/*!***********************************************!*\
  !*** ./src/cart/renderers/checkout-button.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CheckoutButtonRenderer)\n/* harmony export */ });\n/* harmony import */ var _cart_renderer_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/cart/renderer-base */ \"./src/cart/renderer-base.ts\");\n/* harmony import */ var _utils_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/error */ \"./src/utils/error.ts\");\n\n\nclass CheckoutButtonRenderer extends _cart_renderer_base__WEBPACK_IMPORTED_MODULE_0__.Renderer {\n    constructor(cart, container) {\n        super(cart, container);\n    }\n    render() {\n        this.container.addEventListener('click', (e) => {\n            e.preventDefault();\n            if (this.cart.cartData && this.cart.cartData.checkoutUrl) {\n                window.location.href = this.cart.cartData.checkoutUrl;\n            }\n            else {\n                _utils_error__WEBPACK_IMPORTED_MODULE_1__.logger.error('Checkout URL is not available.');\n            }\n        });\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/cart/renderers/checkout-button.ts?");

/***/ }),

/***/ "./src/cart/renderers/clear-cart.ts":
/*!******************************************!*\
  !*** ./src/cart/renderers/clear-cart.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ClearCartRenderer)\n/* harmony export */ });\n/* harmony import */ var _cart_renderer_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/cart/renderer-base */ \"./src/cart/renderer-base.ts\");\n\nclass ClearCartRenderer extends _cart_renderer_base__WEBPACK_IMPORTED_MODULE_0__.Renderer {\n    constructor(cart, container) {\n        super(cart, container);\n    }\n    render() {\n        this.container.addEventListener('click', (e) => {\n            e.preventDefault();\n            this.cart.clear();\n        });\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/cart/renderers/clear-cart.ts?");

/***/ }),

/***/ "./src/cart/renderers/empty-cart.ts":
/*!******************************************!*\
  !*** ./src/cart/renderers/empty-cart.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EmptyCartRenderer)\n/* harmony export */ });\n/* harmony import */ var _cart_renderer_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/cart/renderer-base */ \"./src/cart/renderer-base.ts\");\n/* harmony import */ var _utils_events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/events */ \"./src/utils/events.ts\");\n\n\nclass EmptyCartRenderer extends _cart_renderer_base__WEBPACK_IMPORTED_MODULE_0__.Renderer {\n    constructor(cart, container) {\n        super(cart, container);\n        this.setupEventListeners();\n    }\n    setupEventListeners() {\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.subscribeEvent)('cart:refresh:completed', () => {\n            this.render();\n        });\n    }\n    render() {\n        const cartData = this.cart.itemCount;\n        const isEmpty = cartData <= 0;\n        this.container.style.display = isEmpty ? '' : 'none';\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/cart/renderers/empty-cart.ts?");

/***/ }),

/***/ "./src/cart/renderers/line-item.ts":
/*!*****************************************!*\
  !*** ./src/cart/renderers/line-item.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LineItemRenderer)\n/* harmony export */ });\n/* harmony import */ var _utils_currency__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/currency */ \"./src/utils/currency.ts\");\n/* harmony import */ var _cart_renderer_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/cart/renderer-base */ \"./src/cart/renderer-base.ts\");\n/* harmony import */ var _utils_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/events */ \"./src/utils/events.ts\");\n/* harmony import */ var _utils_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/error */ \"./src/utils/error.ts\");\n\n\n\n\nclass LineItemRenderer extends _cart_renderer_base__WEBPACK_IMPORTED_MODULE_1__.Renderer {\n    moneyFormat;\n    template = null;\n    renderedItems = new Map();\n    constructor(cart, container, moneyFormat) {\n        super(cart, container);\n        this.moneyFormat = moneyFormat;\n        this.setupEventListeners();\n        this.createTemplate();\n    }\n    setupEventListeners() {\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_2__.subscribeEvent)('cart:refresh:completed', () => {\n            this.render();\n        });\n    }\n    createTemplate() {\n        const temp = this.container.querySelector('[data-bf-line-item]');\n        if (temp) {\n            this.template = temp.cloneNode(true);\n            temp.style.display = 'none';\n        }\n    }\n    render() {\n        if (!this.template) {\n            _utils_error__WEBPACK_IMPORTED_MODULE_3__.logger.error('Line item template element not found.');\n            return;\n        }\n        const cartData = this.cart.cartData;\n        if (!cartData || this.cart.itemCount <= 0) {\n            this.renderedItems.forEach((element) => {\n                element.remove();\n            });\n            this.renderedItems.clear();\n            _utils_error__WEBPACK_IMPORTED_MODULE_3__.logger.info('Cart is empty or cart data is unavailable.');\n            return;\n        }\n        const currentLineIds = new Set();\n        cartData.lines.edges.forEach((edge) => {\n            const line = edge.node;\n            const lineId = line.id;\n            currentLineIds.add(lineId);\n            let itemEl = this.renderedItems.get(lineId);\n            if (!itemEl) {\n                itemEl = this.template.cloneNode(true);\n                this.container.appendChild(itemEl);\n                itemEl.style.display = '';\n                this.renderedItems.set(lineId, itemEl);\n                const img = itemEl.querySelector('[data-bf-line-image]');\n                if (img && line.merchandise.image) {\n                    img.src = line.merchandise.image.url;\n                    img.alt = line.merchandise.image.altText || '';\n                }\n                const titleEl = itemEl.querySelector('[data-bf-line-title]');\n                if (titleEl)\n                    titleEl.textContent = line.merchandise.product.title;\n                const optionEl = itemEl.querySelector('[data-bf-line-selected-option]');\n                if (optionEl)\n                    optionEl.textContent = line.merchandise.title;\n                const removeBtn = itemEl.querySelector('[data-bf-remove-line-item]');\n                if (removeBtn) {\n                    removeBtn.onclick = async (e) => {\n                        e.preventDefault();\n                        await this.cart.removeLineItem(line.id);\n                    };\n                }\n            }\n            const qtyEl = itemEl.querySelector('[data-bf-line-qty]');\n            if (qtyEl)\n                qtyEl.textContent = line.quantity.toString();\n            const perQtyEl = itemEl.querySelector('[data-bf-line-amount-per-qty]');\n            if (perQtyEl && line.cost?.amountPerQuantity) {\n                perQtyEl.textContent = (0,_utils_currency__WEBPACK_IMPORTED_MODULE_0__.formatCurrency)(line.cost.amountPerQuantity.amount, line.cost.amountPerQuantity.currencyCode, this.moneyFormat);\n            }\n            const totalEl = itemEl.querySelector('[data-bf-line-total-amount]');\n            if (totalEl && line.cost?.totalAmount) {\n                totalEl.textContent = (0,_utils_currency__WEBPACK_IMPORTED_MODULE_0__.formatCurrency)(line.cost.totalAmount.amount, line.cost.totalAmount.currencyCode, this.moneyFormat);\n            }\n        });\n        this.renderedItems.forEach((element, lineId) => {\n            if (!currentLineIds.has(lineId)) {\n                element.remove();\n                this.renderedItems.delete(lineId);\n            }\n        });\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/cart/renderers/line-item.ts?");

/***/ }),

/***/ "./src/config/index.ts":
/*!*****************************!*\
  !*** ./src/config/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createConfig: () => (/* binding */ createConfig)\n/* harmony export */ });\n/* harmony import */ var _utils_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/error */ \"./src/utils/error.ts\");\n\nfunction createConfig() {\n    const scriptEl = document.querySelector('script[data-name=\"blink-main-script\"]');\n    if (!scriptEl) {\n        throw _utils_error__WEBPACK_IMPORTED_MODULE_0__.logger.error('Script not found');\n    }\n    const token = scriptEl.getAttribute('data-store-token');\n    const storeDomain = scriptEl.getAttribute('data-store-domain');\n    if (!token || !storeDomain) {\n        throw _utils_error__WEBPACK_IMPORTED_MODULE_0__.logger.error('Shopify Token or Store Domain not provided');\n    }\n    const config = {\n        shopify: {\n            token,\n            storeDomain,\n        },\n        cache: {\n            ttl: {\n                default: 1000 * 60 * 10,\n                products: 1000 * 60 * 10,\n                store: 1000 * 60 * 60,\n                cart: 1000 * 60 * 60 * 24,\n            },\n            keys: {\n                products: 'blink_products',\n                store: 'blink_store',\n                cart: 'blink_cart',\n            },\n        },\n    };\n    return config;\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/config/index.ts?");

/***/ }),

/***/ "./src/core/cart-manager.ts":
/*!**********************************!*\
  !*** ./src/core/cart-manager.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Cart)\n/* harmony export */ });\n/* harmony import */ var _utils_currency__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/currency */ \"./src/utils/currency.ts\");\n/* harmony import */ var _utils_events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/events */ \"./src/utils/events.ts\");\n/* harmony import */ var _utils_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/error */ \"./src/utils/error.ts\");\n/* harmony import */ var _utils_cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/cache */ \"./src/utils/cache.ts\");\n\n\n\n\nconst CART_CREATE_MUTATION = `\n\tmutation cartCreate($input: CartInput!) {\n\t\t\tcartCreate(input: $input) {\n\t\t\t\tcart {\n\t\t\t\t\tid\n\t\t\t}\n\t\t\tuserErrors {\n\t\t\t\t\tfield\n\t\t\t\t\tmessage\n\t\t\t}\n\t\t\t}\n\t}\n`;\nconst CART_QUERY = `\n\tquery getCart($cartId: ID!) {\n\tcart(id: $cartId) {\n\t\t\tid\n\t\t\tcheckoutUrl\n\t\t\tcreatedAt\n\t\t\tupdatedAt\n\t\t\ttotalQuantity\n\n\t\t\tlines(first: 50) {\n\t\t\tedges {\n\t\t\t\t\tnode {\n\t\t\t\t\tid\n\t\t\t\t\tquantity\n\t\t\t\t\tattributes {\n\t\t\t\t\t\t\tkey\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t}\n\t\t\t\t\tcost {\n\t\t\t\t\t\t\tamountPerQuantity {\n\t\t\t\t\t\t\tamount\n\t\t\t\t\t\t\tcurrencyCode\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttotalAmount {\n\t\t\t\t\t\t\tamount\n\t\t\t\t\t\t\tcurrencyCode\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tmerchandise {\n\t\t\t\t\t\t\t... on ProductVariant {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\tsku\n\t\t\t\t\t\t\tavailableForSale\n\t\t\t\t\t\t\tquantityAvailable\n\t\t\t\t\t\t\timage {\n\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t\taltText\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprice {\n\t\t\t\t\t\t\t\t\tamount\n\t\t\t\t\t\t\t\t\tcurrencyCode\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tproduct {\n\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\t\thandle\n\t\t\t\t\t\t\t\t\tvendor\n\t\t\t\t\t\t\t\t\tfeaturedImage {\n\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t\taltText\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tsellingPlanAllocation {\n\t\t\t\t\t\t\tsellingPlan {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\toptions {\n\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t}\n\t\t\t}\n\n\t\t\testimatedCost {\n\t\t\tsubtotalAmount {\n\t\t\t\t\tamount\n\t\t\t\t\tcurrencyCode\n\t\t\t}\n\t\t\ttotalAmount {\n\t\t\t\t\tamount\n\t\t\t\t\tcurrencyCode\n\t\t\t}\n\t\t\ttotalTaxAmount {\n\t\t\t\t\tamount\n\t\t\t\t\tcurrencyCode\n\t\t\t}\n\t\t\t}\n\t}\n\t}\n`;\nconst CART_LINES_ADD_MUTATION = `\n\tmutation cartLinesAdd($cartId: ID!, $lines: [CartLineInput!]!) {\n\t\t\tcartLinesAdd(cartId: $cartId, lines: $lines) {\n\t\t\tcart {\n\t\t\t\t\tid\n\t\t\t}\n\t\t\tuserErrors {\n\t\t\t\t\tfield\n\t\t\t\t\tmessage\n\t\t\t}\n\t\t\t}\n\t}\n`;\nconst CART_LINES_REMOVE_MUTATION = `\n\tmutation cartLinesRemove($cartId: ID!, $lineIds: [ID!]!) {\n\t\t\tcartLinesRemove(cartId: $cartId, lineIds: $lineIds) {\n\t\t\t\t\tcart { id }\n\t\t\t\t\tuserErrors { field message }\n\t\t\t}\n\t}\n`;\nconst CART_LINES_UPDATE_MUTATION = `\n\tmutation cartLinesUpdate($cartId: ID!, $lines: [CartLineUpdateInput!]!) {\n\t\tcartLinesUpdate(cartId: $cartId, lines: $lines) {\n\t\t\tcart { id }\n\t\t\tuserErrors { field message }\n\t\t}\n\t}\n`;\nclass Cart {\n    shopifyClient;\n    cacheKey;\n    cacheTTL;\n    moneyFormat;\n    cart;\n    constructor(shopifyClient, cacheKey, cacheTTL, moneyFormat) {\n        this.shopifyClient = shopifyClient;\n        this.cacheKey = cacheKey;\n        this.cacheTTL = cacheTTL;\n        this.moneyFormat = moneyFormat;\n    }\n    init() {\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:init:started', { cacheKey: this.cacheKey });\n        const cachedCart = _utils_cache__WEBPACK_IMPORTED_MODULE_3__.Cache.get(this.cacheKey);\n        if (cachedCart) {\n            this.cart = cachedCart;\n            _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.info('Cart loaded from localStorage:', this.cart);\n            (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:init:loaded', { cart: this.cart, source: 'cache' });\n        }\n        else {\n            (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:init:empty', { source: 'no-cache' });\n        }\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:init:completed', { hasCart: !!this.cart });\n    }\n    get isEmpty() {\n        return !this.cart || !this.cart.lines?.edges?.length;\n    }\n    get itemCount() {\n        return this.cart?.totalQuantity || 0;\n    }\n    get subtotal() {\n        return parseFloat(this.cart?.estimatedCost?.subtotalAmount?.amount || '0');\n    }\n    get total() {\n        return parseFloat(this.cart?.estimatedCost?.totalAmount?.amount || '0');\n    }\n    get subtotalFormatted() {\n        const amount = this.cart?.estimatedCost?.subtotalAmount?.amount || 0;\n        const currency = this.cart?.estimatedCost?.subtotalAmount?.currencyCode || 'USD';\n        return (0,_utils_currency__WEBPACK_IMPORTED_MODULE_0__.formatCurrency)(amount, currency, this.moneyFormat);\n    }\n    get totalFormatted() {\n        const amount = this.cart?.estimatedCost?.totalAmount?.amount || 0;\n        const currency = this.cart?.estimatedCost?.totalAmount?.currencyCode || 'USD';\n        return (0,_utils_currency__WEBPACK_IMPORTED_MODULE_0__.formatCurrency)(amount, currency, this.moneyFormat);\n    }\n    getLineItem(lineId) {\n        if (!this.cart?.lines?.edges)\n            return null;\n        const edge = this.cart.lines.edges.find((edge) => edge.node.id === lineId);\n        return edge?.node || null;\n    }\n    hasVariant(variantId) {\n        if (!this.cart?.lines?.edges)\n            return false;\n        return this.cart.lines.edges.some((edge) => edge.node.merchandise.id === variantId);\n    }\n    async create(variantId, quantity) {\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:create:started', { variantId, quantity });\n        const variables = {\n            input: {\n                lines: [\n                    {\n                        quantity,\n                        merchandiseId: variantId,\n                    },\n                ],\n            },\n        };\n        try {\n            const response = await this.shopifyClient.executeQuery(CART_CREATE_MUTATION, variables);\n            if (response.userErrors && response.userErrors.length > 0) {\n                throw _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error('Shopify user errors:', response.userErrors);\n            }\n            (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:create:completed', { cartId: response.data.cartCreate.cart.id, variantId, quantity });\n            return response.data.cartCreate.cart;\n        }\n        catch (err) {\n            (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:create:error', { variantId, quantity, error: err });\n            throw err;\n        }\n    }\n    async addToExisting(variantId, quantity) {\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:addToExisting:started', { variantId, quantity, cartId: this.cart.id });\n        const variables = {\n            cartId: this.cart.id,\n            lines: [{ quantity, merchandiseId: variantId }],\n        };\n        try {\n            const res = await this.shopifyClient.executeQuery(CART_LINES_ADD_MUTATION, variables);\n            if (res.data.cartLinesAdd.userErrors && res.data.cartLinesAdd.userErrors.length > 0) {\n                throw _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error('Shopify user errors:', res.data.cartLinesAdd.userErrors);\n            }\n            (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:addToExisting:completed', { variantId, quantity, cartId: this.cart.id });\n            return res.data.cartLinesAdd.cart;\n        }\n        catch (err) {\n            (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:addToExisting:error', { variantId, quantity, error: err });\n            _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error('Error adding to existing cart:', err);\n            throw err;\n        }\n    }\n    async fetch(cartId) {\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:fetch:started', { cartId });\n        const variables = { cartId };\n        try {\n            const res = await this.shopifyClient.executeQuery(CART_QUERY, variables);\n            if (res.errors) {\n                throw _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error('Shopify errors:', res.errors);\n            }\n            (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:fetch:completed', { cartId, cart: res.data.cart });\n            return res.data.cart;\n        }\n        catch (err) {\n            (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:fetch:error', { cartId, error: err });\n            _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error('Error fetching cart:', err);\n            return null;\n        }\n    }\n    handleShopifyErrors(userErrors, operation) {\n        if (userErrors && userErrors.length > 0) {\n            const errorMessage = userErrors.map((e) => e.message).join(', ');\n            throw _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error(`${operation} failed: ${errorMessage}`, userErrors);\n        }\n    }\n    async clear() {\n        if (!(this.cart && this.cart.lines && this.cart.lines.edges.length > 0)) {\n            _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error('No cart to clear');\n            return;\n        }\n        const lineIds = this.cart.lines.edges.map((edge) => edge.node.id);\n        if (lineIds.length > 0) {\n            const variables = { cartId: this.cart.id, lineIds };\n            (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:clear:started', { lineIds });\n            try {\n                const response = await this.shopifyClient.executeQuery(CART_LINES_REMOVE_MUTATION, variables);\n                this.handleShopifyErrors(response.data?.cartLinesRemove?.userErrors, 'Clear cart');\n                (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:clear:completed', { lineIds });\n            }\n            catch (err) {\n                _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error('Error clearing cart:', err);\n                (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:clear:error', { error: err });\n            }\n        }\n        await this.refresh();\n    }\n    async removeLineItem(lineId) {\n        if (!this.cart) {\n            throw _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error('No cart to remove item from');\n        }\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:removeLineItem:started', { lineId });\n        try {\n            const variables = { cartId: this.cart.id, lineIds: [lineId] };\n            const response = await this.shopifyClient.executeQuery(CART_LINES_REMOVE_MUTATION, variables);\n            this.handleShopifyErrors(response.data?.cartLinesRemove?.userErrors, 'Remove line item');\n            (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:removeLineItem:completed', { lineId });\n        }\n        catch (err) {\n            (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:removeLineItem:error', { lineId, error: err });\n            _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error('Error removing line item:', err);\n        }\n        await this.refresh();\n    }\n    async refresh() {\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:refresh:started', { cartId: this.cart.id });\n        try {\n            this.cart = await this.fetch(this.cart.id);\n            _utils_cache__WEBPACK_IMPORTED_MODULE_3__.Cache.set(this.cacheKey, this.cart, this.cacheTTL);\n            (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:refresh:completed', { cart: this.cart });\n        }\n        catch (err) {\n            (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:refresh:error', { cartId: this.cart.id, error: err });\n            throw err;\n        }\n    }\n    async add({ variantId, quantity = 1 }) {\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:add:started', { variantId, quantity });\n        try {\n            if (!this.cart) {\n                this.cart = await this.create(variantId, quantity);\n                await this.refresh();\n            }\n            else {\n                await this.addToExisting(variantId, quantity);\n                await this.refresh();\n            }\n        }\n        catch (error) {\n            (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:add:error', { variantId, quantity, error });\n            throw error;\n        }\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:add:completed', { cart: this.cart, variantId, quantity });\n    }\n    async updateLineItemQuantity(lineId, quantity) {\n        if (!this.cart) {\n            throw _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error('No cart to update item in');\n        }\n        if (quantity <= 0) {\n            return this.removeLineItem(lineId);\n        }\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:updateQuantity:started', { lineId, quantity });\n        try {\n            const variables = {\n                cartId: this.cart.id,\n                lines: [{ id: lineId, quantity }],\n            };\n            const response = await this.shopifyClient.executeQuery(CART_LINES_UPDATE_MUTATION, variables);\n            this.handleShopifyErrors(response.data?.cartLinesUpdate?.userErrors, 'Update quantity');\n            await this.refresh();\n            (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:updateQuantity:completed', { lineId, quantity });\n        }\n        catch (error) {\n            (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('cart:updateQuantity:error', { lineId, quantity, error });\n            throw error;\n        }\n    }\n    get cartData() {\n        return this.cart || null;\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/core/cart-manager.ts?");

/***/ }),

/***/ "./src/core/global-blink.ts":
/*!**********************************!*\
  !*** ./src/core/global-blink.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GlobalBlink)\n/* harmony export */ });\n/* harmony import */ var _utils_shopify_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/shopify-client */ \"./src/utils/shopify-client.ts\");\n/* harmony import */ var _core_product_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/core/product-manager */ \"./src/core/product-manager.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/config */ \"./src/config/index.ts\");\n/* harmony import */ var _utils_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/store */ \"./src/utils/store.ts\");\n/* harmony import */ var _cart_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cart-manager */ \"./src/core/cart-manager.ts\");\n\n\n\n\n\nclass GlobalBlink {\n    config;\n    shopifyClient;\n    productManager;\n    cart;\n    store;\n    ready;\n    constructor() {\n        this.config = (0,_config__WEBPACK_IMPORTED_MODULE_2__.createConfig)();\n        this.shopifyClient = (0,_utils_shopify_client__WEBPACK_IMPORTED_MODULE_0__.createShopifyClient)(this.config.shopify);\n        this.productManager = new _core_product_manager__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.shopifyClient, this.config.cache.keys.products, this.config.cache.ttl.products);\n        this.ready = this.init();\n    }\n    async init() {\n        this.store = await (0,_utils_store__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this.shopifyClient, this.config.cache.keys.store, this.config.cache.ttl.store);\n        await this.productManager.fetchProducts();\n        this.cart = new _cart_manager__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this.shopifyClient, this.config.cache.keys.cart, this.config.cache.ttl.cart, this.store.moneyFormat || '${{amount}}');\n        this.cart.init();\n    }\n    get products() {\n        return this.productManager.currentProducts;\n    }\n    getProductById(id) {\n        return this.productManager.currentProducts.get(id);\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/core/global-blink.ts?");

/***/ }),

/***/ "./src/core/product-manager.ts":
/*!*************************************!*\
  !*** ./src/core/product-manager.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ProductManager)\n/* harmony export */ });\n/* harmony import */ var _utils_id_mapper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/id-mapper */ \"./src/utils/id-mapper.ts\");\n/* harmony import */ var _utils_events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/events */ \"./src/utils/events.ts\");\n/* harmony import */ var _utils_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/error */ \"./src/utils/error.ts\");\n/* harmony import */ var _utils_cache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/cache */ \"./src/utils/cache.ts\");\n\n\n\n\nclass ProductManager {\n    shopifyClient;\n    cacheKey;\n    cacheTTL;\n    currentProducts;\n    constructor(shopifyClient, cacheKey, cacheTTL) {\n        this.shopifyClient = shopifyClient;\n        this.cacheKey = cacheKey;\n        this.cacheTTL = cacheTTL;\n        this.currentProducts = new Map();\n    }\n    async fetchProducts(productIds) {\n        const ids = productIds ??\n            Array.from(document.querySelectorAll('[data-bf-product-id]'))\n                .map((el) => el.getAttribute('data-bf-product-id'))\n                .filter(Boolean);\n        const uniqueIds = [...new Set(ids)];\n        const cached = new Map(_utils_cache__WEBPACK_IMPORTED_MODULE_3__.Cache.get(this.cacheKey));\n        const idsToFetch = uniqueIds.filter((id) => !cached.has(id));\n        uniqueIds.forEach((id) => {\n            if (cached.has(id)) {\n                this.currentProducts.set(id, cached.get(id));\n            }\n        });\n        // Fetch missing\n        await Promise.all(idsToFetch.map(async (id) => {\n            try {\n                const gid = (0,_utils_id_mapper__WEBPACK_IMPORTED_MODULE_0__.mapProductIdToGid)(id);\n                const product = await this.fetchProduct(gid);\n                if (product) {\n                    this.currentProducts.set(id, product);\n                }\n            }\n            catch (err) {\n                _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error(`Failed to fetch product ${id}:`, err);\n            }\n        }));\n        _utils_cache__WEBPACK_IMPORTED_MODULE_3__.Cache.set(this.cacheKey, Array.from(this.currentProducts.entries()), this.cacheTTL);\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.publishEvent)('products:fetched');\n    }\n    async fetchProduct(productId) {\n        const query = `\n        query Products($id: ID!) @inContext(language: EN) {\n          node(id: $id) {\n            ... on Product {\n              id\n              title\n              handle\n              description\n              descriptionHtml\n              priceRange {\n                minVariantPrice { amount currencyCode }\n                maxVariantPrice { amount currencyCode }\n              }\n              compareAtPriceRange {\n                minVariantPrice { amount currencyCode }\n                maxVariantPrice { amount currencyCode }\n              }\n              options {\n                name\n                optionValues {\n                  id\n                  name\n                  swatch {\n                    color\n                    image {\n                      id\n                      alt\n                      previewImage {\n                        altText\n                        url\n                      }\n                    }\n                  }\n                }\n              }\n              images(first: 100) {\n                edges {\n                  node {\n                    src\n                    altText\n                    id\n                    width\n                    height\n                  }\n                }\n              }\n              collections(first: 250) {\n                edges {\n                  node {\n                    id\n                    title\n                    handle\n                    description\n                    descriptionHtml\n                    image { src }\n                  }\n                }\n              }\n              vendor\n              productType\n              tags\n              requiresSellingPlan\n              variants(first: 100) {\n                edges {\n                  node {\n                    id\n                    product { id title vendor }\n                    title\n                    sku\n                    barcode\n                    price { amount currencyCode }\n                    unitPrice { amount currencyCode }\n                    compareAtPrice { amount currencyCode }\n                    image { src altText id width height }\n                    selectedOptions { name value }\n                    availableForSale\n                    currentlyNotInStock\n                    quantityAvailable\n                    product { id title vendor }\n                    weight\n                    weightUnit\n                    sellingPlanAllocations(first: 10) {\n                      edges {\n                        node {\n                          sellingPlan {\n                            id\n                            name\n                            description\n                            checkoutCharge { type value }\n                            recurringDeliveries\n                            options { name value }\n                          }\n                          priceAdjustments {\n                            price { amount currencyCode }\n                            compareAtPrice { amount currencyCode }\n                            perDeliveryPrice { amount currencyCode }\n                            unitPrice { amount currencyCode }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n              sellingPlanGroups(first: 10) {\n                edges {\n                  node {\n                    appName\n                    name\n                    sellingPlans(first: 10) {\n                      edges {\n                        node {\n                          id\n                          name\n                          description\n                          recurringDeliveries\n                          options { name value }\n                          priceAdjustments {\n                            orderCount\n                            adjustmentValue {\n                              __typename\n                              ... on SellingPlanPercentagePriceAdjustment {\n                                adjustmentPercentage\n                              }\n                              ... on SellingPlanFixedAmountPriceAdjustment {\n                                adjustmentAmount { amount currencyCode }\n                              }\n                              ... on SellingPlanFixedPriceAdjustment {\n                                price { amount currencyCode }\n                              }\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        `;\n        const res = await this.shopifyClient.executeQuery(query, { id: productId });\n        return res?.data?.node ?? null;\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/core/product-manager.ts?");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _products_bootstrap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/products/bootstrap */ \"./src/products/bootstrap.ts\");\n/* harmony import */ var _core_global_blink__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/core/global-blink */ \"./src/core/global-blink.ts\");\n/* harmony import */ var _utils_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/error */ \"./src/utils/error.ts\");\n/* harmony import */ var _cart_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/cart/bootstrap */ \"./src/cart/bootstrap.ts\");\n\n\n\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n    if (!window.Blink) {\n        window.Blink = new _core_global_blink__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    }\n    try {\n        await window.Blink.ready;\n        (0,_products_bootstrap__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(window.Blink);\n        (0,_cart_bootstrap__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(window.Blink);\n    }\n    catch (err) {\n        _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error('Failed to initialize GlobalBlink or products', err);\n    }\n});\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/index.ts?");

/***/ }),

/***/ "./src/products/bootstrap.ts":
/*!***********************************!*\
  !*** ./src/products/bootstrap.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ bootstrapProducts)\n/* harmony export */ });\n/* harmony import */ var _products_product_renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/products/product-renderer */ \"./src/products/product-renderer.ts\");\n/* harmony import */ var _products_product__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/products/product */ \"./src/products/product.ts\");\n\n\nfunction bootstrapProducts(globalBlink) {\n    const productElements = document.querySelectorAll('[data-bf-product-id]');\n    productElements.forEach((el) => {\n        const productId = el.dataset.bfProductId;\n        if (!productId || productId == '{{ Connect Your Shopify Product ID }}')\n            return;\n        const product = new _products_product__WEBPACK_IMPORTED_MODULE_1__[\"default\"](productId, globalBlink);\n        const renderer = new _products_product_renderer__WEBPACK_IMPORTED_MODULE_0__[\"default\"](product, el, globalBlink.store.moneyFormat ?? '${{amount}}');\n        renderer.render();\n        el._product = product;\n        el._productRenderer = renderer;\n    });\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/products/bootstrap.ts?");

/***/ }),

/***/ "./src/products/product-renderer.ts":
/*!******************************************!*\
  !*** ./src/products/product-renderer.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ProductRenderer)\n/* harmony export */ });\n/* harmony import */ var _products_renderers_compare_at_price__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/products/renderers/compare-at-price */ \"./src/products/renderers/compare-at-price.ts\");\n/* harmony import */ var _products_renderers_product_options__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/products/renderers/product-options */ \"./src/products/renderers/product-options.ts\");\n/* harmony import */ var _products_renderers_description__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/products/renderers/description */ \"./src/products/renderers/description.ts\");\n/* harmony import */ var _products_renderers_add_to_cart__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/products/renderers/add-to-cart */ \"./src/products/renderers/add-to-cart.ts\");\n/* harmony import */ var _products_renderers_gallery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/products/renderers/gallery */ \"./src/products/renderers/gallery.ts\");\n/* harmony import */ var _products_renderers_title__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/products/renderers/title */ \"./src/products/renderers/title.ts\");\n/* harmony import */ var _products_renderers_price__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/products/renderers/price */ \"./src/products/renderers/price.ts\");\n\n\n\n\n\n\n\nfunction selectScopedElements(container, selector) {\n    return Array.from(container.querySelectorAll(selector)).filter((el) => el.closest('[data-bf-product-id]') === container);\n}\n('');\nclass ProductRenderer {\n    product;\n    container;\n    moneyFormat;\n    renderers = []; // could be typed better for all sub-renderer types\n    constructor(product, container, moneyFormat) {\n        this.product = product;\n        this.container = container;\n        this.moneyFormat = moneyFormat;\n        container.style.opacity = '0';\n        // Titles\n        selectScopedElements(container, '[data-bf-product-title]').forEach((el) => {\n            this.renderers.push(new _products_renderers_title__WEBPACK_IMPORTED_MODULE_5__[\"default\"](product, el));\n        });\n        // Descriptions\n        selectScopedElements(container, '[data-bf-product-description]').forEach((el) => {\n            this.renderers.push(new _products_renderers_description__WEBPACK_IMPORTED_MODULE_2__[\"default\"](product, el));\n        });\n        // Prices\n        selectScopedElements(container, '[data-bf-product-price]').forEach((el) => {\n            this.renderers.push(new _products_renderers_price__WEBPACK_IMPORTED_MODULE_6__[\"default\"](product, el, moneyFormat));\n        });\n        // Compare-at prices\n        selectScopedElements(container, '[data-bf-product-compare-at-price]').forEach((el) => {\n            this.renderers.push(new _products_renderers_compare_at_price__WEBPACK_IMPORTED_MODULE_0__[\"default\"](product, el, moneyFormat));\n        });\n        // Product options\n        selectScopedElements(container, '[data-bf-product-option]').forEach((el) => {\n            this.renderers.push(new _products_renderers_product_options__WEBPACK_IMPORTED_MODULE_1__[\"default\"](product, el));\n        });\n        // Add-to-cart buttons\n        selectScopedElements(container, '[data-bf-add-to-cart]').forEach((el) => {\n            this.renderers.push(new _products_renderers_add_to_cart__WEBPACK_IMPORTED_MODULE_3__[\"default\"](product, el));\n        });\n        // Galleries\n        selectScopedElements(container, '[data-bf-product-gallery]').forEach((el) => {\n            this.renderers.push(new _products_renderers_gallery__WEBPACK_IMPORTED_MODULE_4__[\"default\"](product, el));\n        });\n    }\n    render() {\n        this.renderers.forEach((renderer) => renderer.render());\n        this.container.style.opacity = '1';\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/products/product-renderer.ts?");

/***/ }),

/***/ "./src/products/product.ts":
/*!*********************************!*\
  !*** ./src/products/product.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Product)\n/* harmony export */ });\n/* harmony import */ var _products_utils_is_single_product_page__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/products/utils/is-single-product-page */ \"./src/products/utils/is-single-product-page.ts\");\n/* harmony import */ var _utils_id_mapper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/id-mapper */ \"./src/utils/id-mapper.ts\");\n/* harmony import */ var _utils_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/events */ \"./src/utils/events.ts\");\n/* harmony import */ var _utils_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/error */ \"./src/utils/error.ts\");\n\n\n\n\nclass Product {\n    id;\n    globalBlink;\n    quantity = 1;\n    selectedVariantId;\n    details;\n    constructor(id, globalBlink) {\n        this.id = id;\n        this.globalBlink = globalBlink;\n        this.details = this.globalBlink.getProductById(this.id);\n        this.selectedVariantId = this.details.variants.edges[0]?.node.id;\n        if (!this.details) {\n            throw _utils_error__WEBPACK_IMPORTED_MODULE_3__.logger.error(`Product with id ${this.id} not found`);\n        }\n        this.init();\n    }\n    init() {\n        this.updateVariantFromUrl();\n    }\n    updateVariantFromUrl() {\n        if ((0,_products_utils_is_single_product_page__WEBPACK_IMPORTED_MODULE_0__[\"default\"])()) {\n            const urlParams = new URLSearchParams(window.location.search);\n            const variantId = urlParams.get('variant');\n            if (variantId) {\n                const variantEdge = this.details.variants.edges.find((edge) => edge.node.id === (0,_utils_id_mapper__WEBPACK_IMPORTED_MODULE_1__.mapVariantIdToGid)(variantId));\n                if (variantEdge) {\n                    this.selectVariant(variantEdge.node.id);\n                }\n            }\n        }\n    }\n    async addToCart() {\n        if (!this.selectedVariantId) {\n            throw _utils_error__WEBPACK_IMPORTED_MODULE_3__.logger.error('No variant selected');\n        }\n        await this.globalBlink.cart.add({\n            variantId: this.selectedVariantId,\n            quantity: this.quantity,\n        });\n    }\n    selectVariant(variantId) {\n        this.selectedVariantId = variantId;\n        if ((0,_products_utils_is_single_product_page__WEBPACK_IMPORTED_MODULE_0__[\"default\"])()) {\n            const url = new URL(window.location.href);\n            url.searchParams.set('variant', (0,_utils_id_mapper__WEBPACK_IMPORTED_MODULE_1__.mapGidToVariantId)(variantId));\n            window.history.replaceState({}, '', url.toString());\n        }\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_2__.publishEvent)('product:variant-change', { productId: this.id, variantId });\n    }\n    updateQuantity(quantity) {\n        this.quantity = quantity;\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_2__.publishEvent)('product:quantity-change', { productId: this.id, quantity });\n    }\n    get selectedVariant() {\n        return this.details.variants.edges.find((edge) => edge.node.id === this.selectedVariantId)?.node;\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/products/product.ts?");

/***/ }),

/***/ "./src/products/renderer-base.ts":
/*!***************************************!*\
  !*** ./src/products/renderer-base.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Renderer: () => (/* binding */ Renderer)\n/* harmony export */ });\nclass Renderer {\n    product;\n    container;\n    constructor(product, container) {\n        this.product = product;\n        this.container = container;\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/products/renderer-base.ts?");

/***/ }),

/***/ "./src/products/renderers/add-to-cart.ts":
/*!***********************************************!*\
  !*** ./src/products/renderers/add-to-cart.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AddToCartRenderer)\n/* harmony export */ });\n/* harmony import */ var _products_renderer_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/products/renderer-base */ \"./src/products/renderer-base.ts\");\n/* harmony import */ var _utils_events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/events */ \"./src/utils/events.ts\");\n/* harmony import */ var _utils_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/error */ \"./src/utils/error.ts\");\n\n\n\nconst SPINNER_SVG = `\n<svg class=\"bf-loader-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n<circle cx=\"12\" cy=\"12\" r=\"10\" stroke-opacity=\"0.2\"/>\n<path d=\"M22 12a10 10 0 0 1-10 10\" />\n<style>\n\t\t.bf-loader-svg { animation: bf-rotate 1s linear infinite; vertical-align: middle;}\n\t\t@keyframes bf-rotate { 100% { transform: rotate(360deg); } }\n</style>\n</svg>\n`;\nconst CHECK_SVG = `\n<svg class=\"bf-check-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n<path d=\"M20 6 9 17l-5-5\"/>\n</svg>\n`;\nclass AddToCartRenderer extends _products_renderer_base__WEBPACK_IMPORTED_MODULE_0__.Renderer {\n    defaultContent;\n    constructor(product, container) {\n        super(product, container);\n        this.defaultContent = container.innerHTML;\n        this.container.addEventListener('click', this.addToCart.bind(this));\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.subscribeEvent)('product:variant-change', (detail) => {\n            if (detail?.productId === this.product.id) {\n                this.render();\n            }\n        });\n    }\n    render() {\n        const variant = this.product.selectedVariant;\n        if (!variant || !variant.availableForSale) {\n            this.container.setAttribute('disabled', 'true');\n            this.container.textContent = 'Sold Out';\n        }\n        else {\n            this.container.removeAttribute('disabled');\n            this.container.innerHTML = this.defaultContent;\n        }\n    }\n    async addToCart(e) {\n        e.preventDefault();\n        if (this.product.selectedVariant && this.product.selectedVariant.availableForSale) {\n            this.container.innerHTML = SPINNER_SVG;\n            this.container.setAttribute('disabled', 'true');\n            try {\n                await this.product.addToCart();\n                this.container.innerHTML = CHECK_SVG;\n                setTimeout(() => {\n                    this.render();\n                }, 2000);\n            }\n            catch (e) {\n                _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error('Failed to add product to cart', e);\n                this.container.textContent = 'Error. Try Again';\n            }\n            this.container.removeAttribute('disabled');\n        }\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/products/renderers/add-to-cart.ts?");

/***/ }),

/***/ "./src/products/renderers/compare-at-price.ts":
/*!****************************************************!*\
  !*** ./src/products/renderers/compare-at-price.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CompareAtPriceRenderer)\n/* harmony export */ });\n/* harmony import */ var _products_renderer_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/products/renderer-base */ \"./src/products/renderer-base.ts\");\n/* harmony import */ var _utils_currency__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/currency */ \"./src/utils/currency.ts\");\n/* harmony import */ var _utils_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/events */ \"./src/utils/events.ts\");\n\n\n\nclass CompareAtPriceRenderer extends _products_renderer_base__WEBPACK_IMPORTED_MODULE_0__.Renderer {\n    moneyFormat;\n    constructor(product, container, moneyFormat) {\n        super(product, container);\n        this.moneyFormat = moneyFormat;\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_2__.subscribeEvent)('product:variant-change', (detail) => {\n            if (detail?.productId === this.product.id) {\n                this.render();\n            }\n        });\n    }\n    render() {\n        const selectedVariant = this.product.selectedVariant;\n        if (selectedVariant.compareAtPrice && selectedVariant.compareAtPrice.amount) {\n            this.container.textContent = (0,_utils_currency__WEBPACK_IMPORTED_MODULE_1__.formatCurrency)(selectedVariant.compareAtPrice.amount, selectedVariant.compareAtPrice.currencyCode, this.moneyFormat);\n            this.container.style.display = '';\n        }\n        else {\n            this.container.style.display = 'none';\n        }\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/products/renderers/compare-at-price.ts?");

/***/ }),

/***/ "./src/products/renderers/description.ts":
/*!***********************************************!*\
  !*** ./src/products/renderers/description.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DescriptionRenderer)\n/* harmony export */ });\n/* harmony import */ var _products_renderer_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/products/renderer-base */ \"./src/products/renderer-base.ts\");\n\nclass DescriptionRenderer extends _products_renderer_base__WEBPACK_IMPORTED_MODULE_0__.Renderer {\n    constructor(product, container) {\n        super(product, container);\n    }\n    render() {\n        this.container.innerHTML = this.product.details.descriptionHtml;\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/products/renderers/description.ts?");

/***/ }),

/***/ "./src/products/renderers/gallery.ts":
/*!*******************************************!*\
  !*** ./src/products/renderers/gallery.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GalleryRenderer)\n/* harmony export */ });\n/* harmony import */ var _products_renderer_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/products/renderer-base */ \"./src/products/renderer-base.ts\");\n/* harmony import */ var _utils_events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/events */ \"./src/utils/events.ts\");\n/* harmony import */ var _utils_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/error */ \"./src/utils/error.ts\");\n\n\n\nclass GalleryRenderer extends _products_renderer_base__WEBPACK_IMPORTED_MODULE_0__.Renderer {\n    currentIndex = 0;\n    sliderElement;\n    thumbnailsWrapper;\n    nextButton;\n    prevButton;\n    activeImageTemplate = null;\n    thumbnailTemplate = null;\n    thumbnails = [];\n    imageElements = [];\n    constructor(product, container) {\n        super(product, container);\n        this.sliderElement = this.getSliderElement();\n        this.thumbnailsWrapper = this.getThumbnailsWrapper();\n        this.nextButton = this.container.querySelector('[data-bf-image-slider-arrow-right]');\n        this.prevButton = this.container.querySelector('[data-bf-image-slider-arrow-left]');\n        this.activeImageTemplate = this.createTemplateElement();\n        this.thumbnailTemplate = this.createThumbnailTemplate();\n        if (!this.activeImageTemplate) {\n            return;\n        }\n        this.setupEventListeners();\n    }\n    getSliderElement() {\n        const slider = this.container.querySelector('[data-bf-product-image-slider]');\n        if (!slider) {\n            throw _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error('Slider element not found');\n        }\n        return slider;\n    }\n    getThumbnailsWrapper() {\n        const wrapper = this.container.querySelector('[data-bf-thumbnail-wrapper]');\n        if (!wrapper) {\n            _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.info('Thumbnails wrapper element not found');\n            return null;\n        }\n        return wrapper;\n    }\n    createTemplateElement() {\n        const temp = this.sliderElement.querySelector('[data-bf-product-image]');\n        if (!temp) {\n            _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error('No product image template found. Please add an element with the attribute \"data-bf-product-image\" inside the slider container.');\n            return null;\n        }\n        temp.style.display = 'none';\n        return temp.cloneNode(true);\n    }\n    createThumbnailTemplate() {\n        if (!this.thumbnailsWrapper) {\n            return null;\n        }\n        const temp = this.thumbnailsWrapper.querySelector('[data-bf-thumbnail-image]');\n        if (!temp) {\n            _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.info('No thumbnail template found. Thumbnails will not be rendered.');\n            return null;\n        }\n        return temp.cloneNode(true);\n    }\n    setupEventListeners() {\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_1__.subscribeEvent)('product:variant-change', (detail) => {\n            if (detail?.productId === this.product.id) {\n                this.handleVariantChange();\n            }\n        });\n    }\n    handleVariantChange() {\n        const selectedImageId = this.product.selectedVariant.image?.id;\n        if (!selectedImageId)\n            return;\n        const imageIndex = this.product.details.images.edges.findIndex((edge) => edge.node.id === selectedImageId);\n        if (imageIndex !== -1) {\n            this.updateActiveImage(imageIndex);\n        }\n    }\n    render() {\n        const images = this.product.details.images.edges.map((edge) => edge.node);\n        if (images.length === 0) {\n            this.container.style.display = 'none';\n            return;\n        }\n        this.container.style.display = '';\n        this.renderSlider(images);\n        this.renderThumbnails(images);\n        this.handleVariantChange();\n        this.setupNavigationButtons(images.length);\n    }\n    setupNavigationButtons(imageCount) {\n        if (this.nextButton) {\n            this.nextButton.style.display = imageCount > 1 ? '' : 'none';\n            this.nextButton.onclick = (e) => {\n                e.preventDefault();\n                const newIndex = (this.currentIndex + 1) % imageCount;\n                this.updateActiveImage(newIndex);\n            };\n        }\n        if (this.prevButton) {\n            this.prevButton.style.display = imageCount > 1 ? '' : 'none';\n            this.prevButton.onclick = (e) => {\n                e.preventDefault();\n                const newIndex = (this.currentIndex - 1 + imageCount) % imageCount;\n                this.updateActiveImage(newIndex);\n            };\n        }\n    }\n    renderSlider(images) {\n        if (!this.activeImageTemplate) {\n            return;\n        }\n        this.sliderElement.querySelectorAll('[data-bf-product-image]').forEach((el) => {\n            el.remove();\n        });\n        this.imageElements = images.map((image, index) => {\n            const imageElement = this.activeImageTemplate.cloneNode(true);\n            let imgTag = imageElement.tagName == 'IMG' ? imageElement : imageElement.querySelector('img');\n            if (!imgTag) {\n                imgTag = document.createElement('img');\n                imageElement.appendChild(imgTag);\n            }\n            imgTag.src = image.src;\n            imgTag.alt = image.altText || `Product Image ${index + 1}`;\n            if (this.currentIndex === index) {\n                imageElement.style.display = '';\n            }\n            imageElement.setAttribute('data-image-id', image.id);\n            this.sliderElement.appendChild(imageElement);\n            return imageElement;\n        });\n    }\n    renderThumbnails(images) {\n        if (!this.thumbnailsWrapper) {\n            return;\n        }\n        if (!this.thumbnailTemplate) {\n            this.thumbnailsWrapper.style.display = 'none';\n            return;\n        }\n        this.thumbnailsWrapper.querySelectorAll('[data-bf-thumbnail-image],[role=\"listitem\"]').forEach((el) => {\n            el.remove();\n        });\n        this.thumbnails = images.map((thumb, index) => {\n            const imageElement = this.thumbnailTemplate.cloneNode(true);\n            let imgTag = imageElement.tagName == 'IMG' ? imageElement : imageElement.querySelector('img');\n            if (!imgTag) {\n                imgTag = document.createElement('img');\n                imageElement.appendChild(imgTag);\n            }\n            imgTag.src = thumb.src;\n            imgTag.alt = thumb.altText || `Thumbnail ${index + 1}`;\n            if (this.currentIndex === index) {\n                imageElement.classList.add('bf-active');\n            }\n            imageElement.setAttribute('data-image-id', thumb.id);\n            this.thumbnailsWrapper.appendChild(imageElement);\n            imageElement.addEventListener('click', () => {\n                this.updateActiveImage(index);\n            });\n            return imageElement;\n        });\n    }\n    updateActiveImage(index) {\n        if (index < 0 || index >= this.imageElements.length) {\n            return;\n        }\n        this.imageElements.forEach((imgEl, idx) => {\n            imgEl.style.display = idx === index ? '' : 'none';\n        });\n        this.thumbnails.forEach((thumbEl, idx) => {\n            if (idx === index) {\n                thumbEl.classList.add('bf-active');\n            }\n            else {\n                thumbEl.classList.remove('bf-active');\n            }\n        });\n        this.currentIndex = index;\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/products/renderers/gallery.ts?");

/***/ }),

/***/ "./src/products/renderers/price.ts":
/*!*****************************************!*\
  !*** ./src/products/renderers/price.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PriceRenderer)\n/* harmony export */ });\n/* harmony import */ var _products_renderer_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/products/renderer-base */ \"./src/products/renderer-base.ts\");\n/* harmony import */ var _utils_currency__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/currency */ \"./src/utils/currency.ts\");\n/* harmony import */ var _utils_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/events */ \"./src/utils/events.ts\");\n\n\n\nclass PriceRenderer extends _products_renderer_base__WEBPACK_IMPORTED_MODULE_0__.Renderer {\n    moneyFormat;\n    constructor(product, container, moneyFormat) {\n        super(product, container);\n        this.moneyFormat = moneyFormat;\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_2__.subscribeEvent)('product:variant-change', (detail) => {\n            if (detail?.productId === this.product.id) {\n                this.render();\n            }\n        });\n    }\n    render() {\n        const selectedVariant = this.product.selectedVariant;\n        this.container.textContent = (0,_utils_currency__WEBPACK_IMPORTED_MODULE_1__.formatCurrency)(selectedVariant.price.amount, selectedVariant.price.currencyCode, this.moneyFormat);\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/products/renderers/price.ts?");

/***/ }),

/***/ "./src/products/renderers/product-options.ts":
/*!***************************************************!*\
  !*** ./src/products/renderers/product-options.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ProductOptionsRenderer)\n/* harmony export */ });\n/* harmony import */ var _utils_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/events */ \"./src/utils/events.ts\");\n/* harmony import */ var _products_renderer_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/products/renderer-base */ \"./src/products/renderer-base.ts\");\n/* harmony import */ var _utils_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/error */ \"./src/utils/error.ts\");\n\n\n\nclass ProductOptionsRenderer extends _products_renderer_base__WEBPACK_IMPORTED_MODULE_1__.Renderer {\n    optionName;\n    nameElement;\n    valuesContainer;\n    templateElement;\n    valueElements = [];\n    selectedOption;\n    isFirstRender = true;\n    productOption = null;\n    constructor(product, container) {\n        super(product, container);\n        this.optionName = this.extractOptionName(container);\n        this.selectedOption = this.getInitialSelectedOption();\n        this.nameElement = container.querySelector('[data-bf-product-option-name]');\n        this.valuesContainer = this.getValuesContainer(container);\n        this.templateElement = this.createTemplateElement(container);\n        this.productOption = this.getProductOption();\n        if (!this.templateElement) {\n            return;\n        }\n        this.setupEventListeners();\n    }\n    extractOptionName(container) {\n        return container.dataset.bfProductOptionName || '';\n    }\n    getInitialSelectedOption() {\n        return this.product.selectedVariant.selectedOptions.find((option) => option.name === this.optionName)?.value || '';\n    }\n    getValuesContainer(container) {\n        return container.querySelector('[data-bf-product-option-values-container]') ?? container;\n    }\n    createTemplateElement(container) {\n        const firstValue = container.querySelector('[data-bf-product-option-value]');\n        if (!firstValue) {\n            _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.warn('No option value template found. Please add an element with the attribute \"data-bf-product-option-value\" inside the option container.');\n            return null;\n        }\n        firstValue.classList.remove('bf-selected', 'bf-unavailable');\n        return firstValue.cloneNode(true);\n    }\n    setupEventListeners() {\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_0__.subscribeEvent)('product:variant-change', (detail) => {\n            if (detail?.productId === this.product.id) {\n                this.handleVariantChange();\n            }\n        });\n    }\n    handleVariantChange() {\n        const newSelectedOption = this.product.selectedVariant.selectedOptions.find((option) => option.name === this.optionName)?.value;\n        if (newSelectedOption && newSelectedOption !== this.selectedOption) {\n            this.selectedOption = newSelectedOption;\n            this.render();\n        }\n    }\n    render() {\n        if (!this.isValidOption() || this.product.details.variants.edges.length === 1) {\n            this.hideContainer();\n            return;\n        }\n        this.showContainer();\n        this.renderOptionName();\n        if (!this.productOption) {\n            this.hideContainer();\n            return;\n        }\n        if (this.isFirstRender) {\n            this.clearExistingValues();\n            this.renderOptionValues();\n            this.isFirstRender = false;\n        }\n        this.updateSelectedStates();\n    }\n    isValidOption() {\n        return !!this.optionName && this.optionName !== '{{ Connect Your Shopify Product Option Name }}';\n    }\n    hideContainer() {\n        this.container.style.display = 'none';\n    }\n    showContainer() {\n        this.container.style.display = '';\n    }\n    renderOptionName() {\n        if (this.nameElement) {\n            this.nameElement.textContent = this.optionName;\n        }\n    }\n    getProductOption() {\n        const option = this.product.details.options.find((opt) => opt.name.toLowerCase() === this.optionName.toLowerCase());\n        if (!option) {\n            _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.warn(`Option with name \"${this.optionName}\" not found in product options.`);\n            return null;\n        }\n        return option;\n    }\n    clearExistingValues() {\n        this.valuesContainer.querySelectorAll('[data-bf-product-option-value]').forEach((el) => {\n            el.remove();\n        });\n    }\n    renderOptionValues() {\n        if (!this.templateElement) {\n            _utils_error__WEBPACK_IMPORTED_MODULE_2__.logger.error('Template element not found for option values.');\n            this.hideContainer();\n            return;\n        }\n        this.valueElements = this.productOption.optionValues.map((value) => {\n            return this.createValueElement(value);\n        });\n    }\n    createValueElement(value) {\n        const elem = this.templateElement.cloneNode(true);\n        this.setElementAttributes(elem, value);\n        this.renderValueImage(elem, value);\n        this.renderValueColor(elem, value);\n        this.renderValueText(elem, value);\n        this.attachClickHandler(elem, value);\n        this.valuesContainer.appendChild(elem);\n        return elem;\n    }\n    getOptionAvailability(value) {\n        return this.product.details.variants.edges.some((edge) => {\n            const variant = edge.node;\n            const hasThisOption = variant.selectedOptions.some((option) => option.name === this.optionName && option.value === value.name);\n            if (!hasThisOption)\n                return false;\n            return !!variant.availableForSale;\n        });\n    }\n    setElementAttributes(elem, value) {\n        elem.setAttribute('data-option-value', value.name);\n        elem.setAttribute('data-option-name', this.optionName);\n    }\n    renderValueImage(elem, value) {\n        const imageEl = elem.querySelector('[data-bf-product-option-value-image]');\n        if (!imageEl)\n            return;\n        if (value.swatch?.image) {\n            const img = imageEl.querySelector('img') || document.createElement('img');\n            img.src = value.swatch.image.previewImage.url;\n            img.alt = value.swatch.image.alt || value.name;\n            if (!imageEl.querySelector('img')) {\n                imageEl.appendChild(img);\n            }\n            imageEl.style.display = '';\n        }\n        else {\n            imageEl.style.display = 'none';\n        }\n    }\n    renderValueColor(elem, value) {\n        const colorEl = elem.querySelector('[data-bf-product-option-value-color]');\n        if (!colorEl)\n            return;\n        if (value.swatch?.color && !value.swatch?.image) {\n            colorEl.style.backgroundColor = value.swatch.color;\n            colorEl.style.display = '';\n        }\n        else {\n            colorEl.style.display = 'none';\n        }\n    }\n    renderValueText(elem, value) {\n        const textEl = elem.querySelector('[data-bf-product-option-value-text]');\n        if (textEl) {\n            textEl.textContent = value.name;\n            textEl.style.display = '';\n        }\n    }\n    attachClickHandler(elem, value) {\n        elem.addEventListener('click', (e) => {\n            e.preventDefault();\n            this.handleOptionClick(elem, value);\n        });\n    }\n    handleOptionClick(elem, value) {\n        this.selectedOption = value.name;\n        this.updateSelectedState(elem);\n        const matchingVariant = this.findMatchingVariant();\n        this.product.selectVariant(matchingVariant.id);\n        this.publishOptionChangeEvent();\n    }\n    updateSelectedState(selectedElem) {\n        this.valueElements.forEach((elem) => elem.classList.remove('bf-selected'));\n        selectedElem.classList.add('bf-selected');\n    }\n    updateSelectedStates() {\n        this.valueElements.forEach((elem) => {\n            const optionValue = elem.getAttribute('data-option-value');\n            if (optionValue === this.selectedOption) {\n                elem.classList.add('bf-selected');\n            }\n            else {\n                elem.classList.remove('bf-selected');\n            }\n            const option = this.productOption?.optionValues.find((opt) => opt.name === optionValue);\n            const isAvailable = option ? this.getOptionAvailability(option) : false;\n            if (isAvailable) {\n                elem.classList.remove('bf-unavailable');\n            }\n            else {\n                elem.classList.add('bf-unavailable');\n            }\n        });\n    }\n    publishOptionChangeEvent() {\n        (0,_utils_events__WEBPACK_IMPORTED_MODULE_0__.publishEvent)('product:option-change', {\n            option: this.selectedOption,\n            optionName: this.optionName,\n            productId: this.product.details.id,\n        });\n    }\n    findMatchingVariant() {\n        const selectedOptions = this.buildSelectedOptionsMap();\n        return (this.product.details.variants.edges.find((edge) => {\n            const variant = edge.node;\n            return variant.selectedOptions.every((option) => selectedOptions[option.name] === option.value);\n        })?.node || this.product.details.variants.edges[0].node);\n    }\n    buildSelectedOptionsMap() {\n        const selectedOptions = this.product.selectedVariant.selectedOptions.reduce((acc, option) => {\n            acc[option.name] = option.value;\n            return acc;\n        }, {});\n        selectedOptions[this.optionName] = this.selectedOption;\n        return selectedOptions;\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/products/renderers/product-options.ts?");

/***/ }),

/***/ "./src/products/renderers/title.ts":
/*!*****************************************!*\
  !*** ./src/products/renderers/title.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TitleRenderer)\n/* harmony export */ });\n/* harmony import */ var _products_renderer_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/products/renderer-base */ \"./src/products/renderer-base.ts\");\n\nclass TitleRenderer extends _products_renderer_base__WEBPACK_IMPORTED_MODULE_0__.Renderer {\n    constructor(product, container) {\n        super(product, container);\n    }\n    render() {\n        this.container.textContent = this.product.details.title;\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/products/renderers/title.ts?");

/***/ }),

/***/ "./src/products/utils/is-single-product-page.ts":
/*!******************************************************!*\
  !*** ./src/products/utils/is-single-product-page.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ isSingleProductPage)\n/* harmony export */ });\nfunction isSingleProductPage() {\n    const pathname = window.location.pathname;\n    // Check if path matches /products/[slug] pattern\n    const productPagePattern = /^\\/products\\/[^\\/]+\\/?$/;\n    return productPagePattern.test(pathname);\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/products/utils/is-single-product-page.ts?");

/***/ }),

/***/ "./src/utils/cache.ts":
/*!****************************!*\
  !*** ./src/utils/cache.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cache: () => (/* binding */ Cache)\n/* harmony export */ });\nclass Cache {\n    /**\n     * Sets a value in cache with TTL.\n     * @param key - Storage key.\n     * @param value - Any serializable value.\n     * @param ttlMs - Time to live in milliseconds.\n     */\n    static set(key, value, ttlMs) {\n        const expires = Date.now() + ttlMs;\n        localStorage.setItem(key, JSON.stringify({ value, expires }));\n    }\n    /**\n     * Gets a value from cache if not expired.\n     * @param key - Storage key.\n     * @returns The cached value or null if missing/expired.\n     */\n    static get(key) {\n        const raw = localStorage.getItem(key);\n        if (!raw)\n            return null;\n        try {\n            const { value, expires } = JSON.parse(raw);\n            if (Date.now() > expires) {\n                localStorage.removeItem(key);\n                return null;\n            }\n            return value;\n        }\n        catch {\n            localStorage.removeItem(key);\n            return null;\n        }\n    }\n    /**\n     * Removes a value from cache.\n     * @param key - Storage key.\n     */\n    static remove(key) {\n        localStorage.removeItem(key);\n    }\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/utils/cache.ts?");

/***/ }),

/***/ "./src/utils/currency.ts":
/*!*******************************!*\
  !*** ./src/utils/currency.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatCurrency: () => (/* binding */ formatCurrency)\n/* harmony export */ });\nfunction formatCurrency(amount, currency, moneyFormat = '{{amount}}{{currency_code}}') {\n    let formatted = moneyFormat || '${{amount}}';\n    formatted = formatted.replace('{{amount}}', parseFloat(`${amount}`).toFixed(2));\n    formatted = formatted.replace('{{currency_code}}', currency || '');\n    return formatted;\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/utils/currency.ts?");

/***/ }),

/***/ "./src/utils/error.ts":
/*!****************************!*\
  !*** ./src/utils/error.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   logger: () => (/* binding */ logger)\n/* harmony export */ });\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! loglevel */ \"./node_modules/loglevel/lib/loglevel.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_0__);\n\nconst logger = loglevel__WEBPACK_IMPORTED_MODULE_0___default().noConflict();\nconst originalFactory = logger.methodFactory;\nlogger.methodFactory = function (methodName, logLevel, loggerName) {\n    const rawMethod = originalFactory(methodName, logLevel, loggerName);\n    return function (...args) {\n        rawMethod(\"[Blink]\", ...args);\n    };\n};\nlogger.setLevel(logger.getLevel());\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/utils/error.ts?");

/***/ }),

/***/ "./src/utils/events.ts":
/*!*****************************!*\
  !*** ./src/utils/events.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   publishEvent: () => (/* binding */ publishEvent),\n/* harmony export */   subscribeEvent: () => (/* binding */ subscribeEvent)\n/* harmony export */ });\nfunction publishEvent(eventName, detail) {\n    const event = new CustomEvent('blink:' + eventName, { detail });\n    document.dispatchEvent(event);\n}\nfunction subscribeEvent(eventName, callback) {\n    const handler = (e) => {\n        const customEvent = e;\n        callback(customEvent.detail);\n    };\n    document.addEventListener('blink:' + eventName, handler);\n    return () => document.removeEventListener('blink:' + eventName, handler);\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/utils/events.ts?");

/***/ }),

/***/ "./src/utils/id-mapper.ts":
/*!********************************!*\
  !*** ./src/utils/id-mapper.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mapGidToProductId: () => (/* binding */ mapGidToProductId),\n/* harmony export */   mapGidToVariantId: () => (/* binding */ mapGidToVariantId),\n/* harmony export */   mapProductIdToGid: () => (/* binding */ mapProductIdToGid),\n/* harmony export */   mapVariantIdToGid: () => (/* binding */ mapVariantIdToGid)\n/* harmony export */ });\nconst mapProductIdToGid = (id) => id.startsWith('gid://shopify/Product/') ? id : `gid://shopify/Product/${id}`;\nconst mapGidToProductId = (gid) => {\n    return gid.startsWith('gid://shopify/Product/') ? gid.split('/').pop() ?? '' : gid;\n};\nconst mapVariantIdToGid = (id) => id.startsWith('gid://shopify/ProductVariant/') ? id : `gid://shopify/ProductVariant/${id}`;\nconst mapGidToVariantId = (gid) => {\n    return gid.startsWith('gid://shopify/ProductVariant/') ? gid.split('/').pop() ?? '' : gid;\n};\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/utils/id-mapper.ts?");

/***/ }),

/***/ "./src/utils/shopify-client.ts":
/*!*************************************!*\
  !*** ./src/utils/shopify-client.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createShopifyClient: () => (/* binding */ createShopifyClient)\n/* harmony export */ });\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./error */ \"./src/utils/error.ts\");\n\nfunction createShopifyClient({ token, storeDomain }) {\n    async function executeQuery(query, variables = {}) {\n        if (!token || !storeDomain) {\n            throw _error__WEBPACK_IMPORTED_MODULE_0__.logger.error('Shopify instance is not initialized.');\n        }\n        const url = `https://${storeDomain}/api/2025-04/graphql.json`;\n        const response = await fetch(url, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-Shopify-Storefront-Access-Token': token,\n            },\n            body: JSON.stringify({ query, variables }),\n        });\n        if (!response.ok) {\n            const errorData = await response.json().catch(() => null);\n            throw _error__WEBPACK_IMPORTED_MODULE_0__.logger.error('Shopify API Error:', errorData || response.statusText);\n        }\n        return response.json();\n    }\n    return { executeQuery };\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/utils/shopify-client.ts?");

/***/ }),

/***/ "./src/utils/store.ts":
/*!****************************!*\
  !*** ./src/utils/store.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ fetchStoreDetails)\n/* harmony export */ });\n/* harmony import */ var _utils_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/error */ \"./src/utils/error.ts\");\n/* harmony import */ var _utils_cache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/cache */ \"./src/utils/cache.ts\");\n\n\nasync function fetchStoreDetails(shopifyClient, cacheKey, cacheTTL) {\n    const cached = _utils_cache__WEBPACK_IMPORTED_MODULE_1__.Cache.get(cacheKey);\n    if (cached && cached.shopName && cached.moneyFormat) {\n        return cached;\n    }\n    _utils_error__WEBPACK_IMPORTED_MODULE_0__.logger.warn('Invalid cached shop info, fetching fresh.');\n    const query = `\n\t{\n\t\t\tshop {\n\t\t\t\t\tname\n\t\t\t\t\tmoneyFormat\n\t\t\t}\n\t}\n\t`;\n    const res = await shopifyClient.executeQuery(query);\n    if (!res?.data?.shop) {\n        throw _utils_error__WEBPACK_IMPORTED_MODULE_0__.logger.error('Failed to fetch shop details from Shopify');\n    }\n    const store = {\n        shopName: res.data.shop.name,\n        moneyFormat: res.data.shop.moneyFormat,\n    };\n    _utils_cache__WEBPACK_IMPORTED_MODULE_1__.Cache.set(cacheKey, store, cacheTTL);\n    return store;\n}\n\n\n//# sourceURL=webpack://public-blinkwebflow/./src/utils/store.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ })()
;